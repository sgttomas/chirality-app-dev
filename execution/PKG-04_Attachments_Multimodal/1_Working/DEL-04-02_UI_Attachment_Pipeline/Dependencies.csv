RegisterSchemaVersion,DependencyID,FromPackageID,FromDeliverableID,FromDeliverableName,DependencyClass,AnchorType,Direction,DependencyType,TargetType,TargetPackageID,TargetDeliverableID,TargetRefID,TargetName,TargetLocation,Statement,EvidenceFile,SourceRef,EvidenceQuote,Explicitness,RequiredMaturity,ProposedMaturity,SatisfactionStatus,Confidence,Origin,FirstSeen,LastSeen,Status,Notes
v3.1,DEP-04-02-001,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),ANCHOR,IMPLEMENTS_NODE,UPSTREAM,OTHER,WBS_NODE,,,,SOW-010,execution/_Decomposition/ChiralityApp_SoftwareDecomposition_2026-02-21_G7-APPROVED.md,DEL-04-02 implements scope item SOW-010: UI attachment behavior (preview/draft/rollback/rehydration).,Datasheet.md,Datasheet.md > Identification > Scope Items,Scope Items: SOW-010,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Datasheet explicitly lists SOW-010. Decomposition Scope Ledger confirms SOW-010 maps to DEL-04-02 under PKG-04.
v3.1,DEP-04-02-002,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),ANCHOR,TRACES_TO_REQUIREMENT,UPSTREAM,OTHER,REQUIREMENT,,,,OBJ-003,execution/_Decomposition/ChiralityApp_SoftwareDecomposition_2026-02-21_G7-APPROVED.md,DEL-04-02 supports objective OBJ-003: Attachment-enabled turns are robust and UX-safe.,Datasheet.md,Datasheet.md > Identification > Objectives,"OBJ-003 -- ""Attachment-enabled turns are robust and UX-safe""",EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Datasheet explicitly maps OBJ-003. Decomposition PKG-04 table confirms SupportsObjectives=OBJ-003 for DEL-04-02.
v3.1,DEP-04-02-003,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,DELIVERABLE,PKG-04,DEL-04-01,,Server-side Attachment Resolver + Prompt Mode Selection,,UI sends attachment paths to the server via turn API; server (DEL-04-01) performs authoritative classification and validation and returns results.,Specification.md,Specification.md > Scope > Boundary with DEL-04-01,"The UI sends attachment paths to the server via the turn API. The server (DEL-04-01 scope) performs authoritative classification and validation.",EXPLICIT,TBD,TBD,PENDING,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Specification Boundary section and Procedure Prerequisites table both explicitly identify DEL-04-01 as upstream. Information flow: UI sends paths -> server resolves and returns.
v3.1,DEP-04-02-004,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,DELIVERABLE,PKG-03,DEL-03-02,,Turn Execution API + SSE Streaming,,Turn API endpoint POST /api/harness/turn (DEL-03-02 scope) must accept attachments array for UI to submit attachment-enabled turns.,Procedure.md,Procedure.md > Prerequisites > DEL-03-02 row,"Turn API endpoint (POST /api/harness/turn) must accept attachments array.",EXPLICIT,TBD,TBD,PENDING,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Procedure Prerequisites table explicitly lists DEL-03-02 as prerequisite. Specification Excluded section confirms turn execution APIs are DEL-03-02 scope.
v3.1,DEP-04-02-005,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,INTERFACE,DELIVERABLE,PKG-03,DEL-03-01,,Working Root Binding & Session Boot,,Session rehydration (REQ-REHYD-01) requires stored session state; session boot and management APIs are DEL-03-01 scope.,Specification.md,Specification.md > Scope > Excluded,"Harness session boot and turn execution APIs (covered by DEL-03-01 DEL-03-02).",IMPLICIT,TBD,TBD,TBD,MEDIUM,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,ASSUMPTION. Specification Excluded section names DEL-03-01 as scope owner for session boot. Session rehydration in DEL-04-02 (REQ-REHYD-01) implies dependency on session state managed by session boot. Not explicitly stated as a required input.
v3.1,DEP-04-02-006,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,DELIVERABLE,PKG-01,DEL-01-01,,macOS 15+ Apple Silicon Build Baseline,,Development environment prerequisite: repo must build and run on macOS 15+ Apple Silicon per DEL-01-01.,Procedure.md,Procedure.md > Prerequisites > Development environment row,"macOS 15+ with Apple Silicon; repo builds and runs per DEL-01-01.",EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Procedure Prerequisites table explicitly names DEL-01-01 as the build baseline prerequisite.
v3.1,DEP-04-02-007,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,CONSTRAINT,DOCUMENT,,,,SPEC.md Section 9.8,docs/SPEC.md,SPEC.md Section 9.8 is the governing contract for UI attachment state rules including data model and server-enforced limits and rollback and rehydration behavior.,Datasheet.md,Datasheet.md > References > SPEC.md Section 9.8 row,Harness turn input contract including UI attachment state rules,EXPLICIT,TBD,TBD,NOT_APPLICABLE,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Cited across all four source documents as the primary normative reference for attachment behavior. TargetType=DOCUMENT because this is a specification section not a deliverable.
v3.1,DEP-04-02-008,PKG-04,DEL-04-02,UI Attachment Pipeline (Picker Preview Rollback Rehydration),EXECUTION,NOT_APPLICABLE,UPSTREAM,CONSTRAINT,DOCUMENT,,,,CONTRACT.md (K-INVENT-1 and K-GHOST-1),docs/CONTRACT.md,CONTRACT.md invariants K-INVENT-1 (no guessing) and K-GHOST-1 (no ghost inputs) constrain implementation approach for this deliverable.,Datasheet.md,Datasheet.md > References > CONTRACT.md row,"Invariants K-INVENT-1 (no guessing) K-GHOST-1 (no ghost inputs)",EXPLICIT,TBD,TBD,NOT_APPLICABLE,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Datasheet References table explicitly cites CONTRACT.md invariants as governing constraints.
