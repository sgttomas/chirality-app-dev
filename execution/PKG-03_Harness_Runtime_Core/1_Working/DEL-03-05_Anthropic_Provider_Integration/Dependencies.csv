RegisterSchemaVersion,DependencyID,FromPackageID,FromDeliverableID,FromDeliverableName,DependencyClass,AnchorType,Direction,DependencyType,TargetType,TargetPackageID,TargetDeliverableID,TargetRefID,TargetName,TargetLocation,Statement,EvidenceFile,SourceRef,EvidenceQuote,Explicitness,RequiredMaturity,ProposedMaturity,SatisfactionStatus,Confidence,Origin,FirstSeen,LastSeen,Status,Notes
v3.1,DEP-03-05-001,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,ANCHOR,IMPLEMENTS_NODE,UPSTREAM,OTHER,WBS_NODE,PKG-03,,SOW-006,SOW-006 — Harness runtime responsibilities: tool calling; permissions; event streaming,,DEL-03-05 implements SOW-006 scope item — specifically the Anthropic provider integration slice of harness runtime responsibilities.,Datasheet.md,Identification > Scope Coverage,Scope Coverage: SOW-006,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Confirmed in decomposition Scope Ledger: SOW-006 maps to DEL-03-02 + DEL-03-05 + DEL-03-06 under PKG-03.
v3.1,DEP-03-05-002,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,ANCHOR,TRACES_TO_REQUIREMENT,UPSTREAM,OTHER,REQUIREMENT,,,OBJ-002,OBJ-002 — Harness runtime correctness + Anthropic-only outbound network policy,,DEL-03-05 supports OBJ-002: harness runtime correctness including Anthropic-only outbound network policy.,Datasheet.md,Identification > Objectives,Objectives: OBJ-002,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Confirmed in decomposition Objectives: OBJ-002 acceptance includes Anthropic-only outbound network.
v3.1,DEP-03-05-003,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,ANCHOR,TRACES_TO_REQUIREMENT,UPSTREAM,OTHER,REQUIREMENT,,,DEC-NET-001,DEC-NET-001 — Outbound internet access permitted only for Anthropic API calls,,DEL-03-05 implements the Anthropic provider integration under the DEC-NET-001 network policy constraint.,Datasheet.md,Attributes > Permitted Outbound Endpoints,Permitted Outbound Endpoints: Anthropic API only | DEC-NET-001,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. DEC-NET-001 is a binding human ruling (Gate 3) in the decomposition Decision Log.
v3.1,DEP-03-05-004,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,DOWNSTREAM,INTERFACE,DELIVERABLE,PKG-03,DEL-03-02,,DEL-03-02 — Turn Execution API + SSE Streaming,,DEL-03-05 requires the turn pipeline interface definition from DEL-03-02 (request/response shapes and streaming contract) before the provider module can implement that interface.,Procedure.md,Prerequisites > DEL-03-02 Turn Pipeline Interface,The turn execution API must define the interface that the provider module will implement,EXPLICIT,TBD,TBD,NOT_APPLICABLE,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Explicit prerequisite in Procedure. Guidance C4 confirms: DEL-03-02 owns generic turn execution; DEL-03-05 owns the provider-specific layer. F-003 notes mocks can be used if DEL-03-02 is not yet complete.  HUMAN_RULING_2026-02-22: Reclassified from PREREQUISITE to INTERFACE; provider module may proceed against stable turn-contract stubs while DEL-03-02 hardens.
v3.1,DEP-03-05-005,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,DELIVERABLE,PKG-03,DEL-03-03,,DEL-03-03 — Turn Options Mapping & Fallback Chains,,DEL-03-05 requires the resolved opts.model string from DEL-03-03 model fallback chain before model selection integration can be finalized.,Procedure.md,Prerequisites > DEL-03-03 Model Fallback Chain,The opts model resolution must be defined so the provider receives a resolved model string,EXPLICIT,IN_PROGRESS,IN_PROGRESS,SATISFIED,HIGH,EXTRACTED,2026-02-21,2026-02-23,ACTIVE,FACT. Explicit prerequisite in Procedure. Specification REQ-03 confirms the provider MUST respect the harness model selection fallback chain.
v3.1,DEP-03-05-006,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,DOWNSTREAM,INTERFACE,DELIVERABLE,PKG-03,DEL-03-06,,DEL-03-06 — Outbound Network Guardrails (Anthropic-only) + Verification,,DEL-03-05 produces the Anthropic provider implementation that DEL-03-06 verifies against the Anthropic-only network policy.,Specification.md,Scope > Excluded,Outbound network guardrails (Anthropic-only enforcement) -- covered by DEL-03-06,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Guidance C4 confirms: DEL-03-06 enforces that only Anthropic API calls are permitted; DEL-03-05 implements the provider; DEL-03-06 verifies nothing else calls out.
v3.1,DEP-03-05-007,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,DOWNSTREAM,INTERFACE,DELIVERABLE,PKG-04,DEL-04-01,,DEL-04-01 — Server-side Attachment Resolver + Prompt Mode Selection,,DEL-03-05 receives pre-processed multimodal content blocks from DEL-04-01 and formats them for the Anthropic API.,Specification.md,REQ-05,The provider receives pre-processed content blocks from the harness attachment resolver (DEL-04-01),EXPLICIT,TBD,TBD,PENDING,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Specification REQ-05 and Guidance C4 both define this boundary explicitly. C-002 clarifies: DEL-04-01 resolves and classifies; DEL-03-05 formats.
v3.1,DEP-03-05-008,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,CONSTRAINT,EXTERNAL,,,OI-001,OI-001 — API key provisioning + storage contract (POLICY_DECISION),,OI-001 must be resolved by the human before the key resolver implementation (REQ-02 and REQ-07) can be finalized. Blocks prescriptive direction for key provisioning.,Procedure.md,Step 1: Resolve OI-001,Human must decide the API key provisioning mechanism before key resolver implementation can be finalized,EXPLICIT,TBD,TBD,SATISFIED,HIGH,EXTRACTED,2026-02-21,2026-02-23,ACTIVE,FACT. Human ruling 2026-02-23 resolved OI-001 as ENV_ONLY; Step 1 gate is closed for current cycle.
v3.1,DEP-03-05-009,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,EXTERNAL,,,ANTHROPIC-API-DOCS,Anthropic API Documentation (external),location TBD,External reference required for SDK initialization; streaming API; error codes; API versioning; authentication; rate limits.,Procedure.md,Prerequisites > Anthropic SDK Documentation,External reference required for SDK initialization streaming API and error codes,EXPLICIT,TBD,TBD,PENDING,MEDIUM,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. Listed in Procedure Prerequisites and Specification Standards table. Location is external and TBD.
v3.1,DEP-03-05-010,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,PREREQUISITE,EXTERNAL,,,ANTHROPIC-SDK,Anthropic Claude SDK (Node.js/TypeScript),location TBD,External SDK dependency required for client initialization; streaming helpers; error types. Procedure Step 3 requires installing the SDK package.,Procedure.md,Step 3: Implement Anthropic SDK Client Initialization,Install the Anthropic SDK package,EXPLICIT,TBD,TBD,SATISFIED,MEDIUM,EXTRACTED,2026-02-21,2026-02-23,ACTIVE,FACT. SDK integration implemented on 2026-02-23 with pinned dependency `@anthropic-ai/sdk@0.78.0`; provider path now satisfies ADOPT_SDK_NOW baseline.
v3.1,DEP-03-05-011,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,CONSTRAINT,DOCUMENT,,,DIRECTIVE-2.5,DIRECTIVE Section 2.5 — Non-authoritative convenience state rules,docs/DIRECTIVE.md,The API key storage mechanism MUST satisfy DIRECTIVE Section 2.5: key is non-authoritative operator convenience state and MUST NOT be treated as project truth.,Specification.md,REQ-07,The API key storage mechanism MUST satisfy DIRECTIVE Section 2.5,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. REQ-07 explicitly mandates compliance. Multiple references across Datasheet and Guidance P2.
v3.1,DEP-03-05-012,PKG-03,DEL-03-05,Anthropic Provider Integration & Key Provisioning Contract,EXECUTION,NOT_APPLICABLE,UPSTREAM,CONSTRAINT,DOCUMENT,,,SPEC-9.8,SPEC Section 9.8 — Harness turn input contract; model fallback; prompt mode selection,docs/SPEC.md,The provider must conform to SPEC Section 9.8 for model fallback chain; turn input contract; and prompt mode selection.,Specification.md,REQ-03 + REQ-04,The provider MUST respect the harness model selection fallback chain,EXPLICIT,TBD,TBD,TBD,HIGH,EXTRACTED,2026-02-21,2026-02-21,ACTIVE,FACT. REQ-03 and REQ-04 both cite SPEC Section 9.8 as their source for the harness contract.
